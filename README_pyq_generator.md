# 朋友圈图片生成器使用说明

## 功能概述

朋友圈图片生成器可以生成逼真的微信朋友圈图片，支持以下功能：

- ✅ 完整的微信朋友圈界面布局
- ✅ 状态栏（时间、电池等）
- ✅ 头部导航栏（返回、标题、相机）
- ✅ 发布者头像和姓名
- ✅ 发布时间显示
- ✅ 文本内容（支持自动换行）
- ✅ 配图（可选）
- ✅ 点赞功能（显示点赞者头像和姓名）
- ✅ 评论功能（多条评论，包含评论者姓名和内容）
- ✅ 批量生成（通过Excel文件）
- ✅ 实时预览
- ✅ 图片下载

## 使用方法

### 1. 单次生成

1. 在配置面板中填写相关信息：
   - **发布者姓名**：朋友圈发布者的姓名
   - **发布时间**：显示的时间（如"昨天"、"2小时前"等）
   - **头像文件名**：头像图片的文件名
   - **发布内容**：朋友圈的文本内容
   - **配图文件名**：配图文件名（可选）
   - **点赞数量**：点赞的人数
   - **点赞者姓名**：点赞者的姓名，用逗号分隔
   - **评论**：JSON格式的评论数组

2. 点击"预览效果"查看生成效果
3. 点击"生成朋友圈图片"生成最终图片
4. 点击"下载"保存图片

### 2. 批量生成

1. 准备Excel文件，格式如下：
   ```
   index,type,content
   publisher_name,1,飞书-Ben
   publish_time,1,昨天
   avatar_file,1,1.jpg
   content,1,朋友圈内容
   content_image,1,配图文件名
   like_count,1,2
   likers,1,张三,李四
   comments,1,"[{""name"":""评论者"",""content"":""评论内容""}]"
   end,1,
   ```

2. 上传Excel文件
3. 点击"生成朋友圈图片"
4. 批量下载生成的图片

### 3. 图片资源

#### 上传图片
- 支持拖拽上传或点击选择
- 支持jpg、png等常见图片格式
- 上传的图片会优先使用

#### 服务器图片
- 头像：从`res/pyq/`文件夹加载
- 如果找不到指定头像，会随机选择1.jpg或2.jpg
- 配图：从`res/pyq/`文件夹加载

## 配置参数说明

### 基础配置
- **图片宽度**：生成图片的宽度（默认375px）
- **图片高度**：生成图片的高度（默认812px）

### 内容配置
- **发布者姓名**：显示在头像旁边的姓名
- **发布时间**：显示在姓名下方的时间
- **头像文件名**：头像图片的文件名
- **发布内容**：朋友圈的文本内容，支持自动换行
- **配图文件名**：配图文件名，留空则不显示配图

### 互动配置
- **点赞数量**：点赞的人数（0-50）
- **点赞者姓名**：点赞者的姓名列表，用逗号分隔
- **评论**：JSON格式的评论数组，每个评论包含name和content字段

## 示例配置

```json
{
  "publisherName": "飞书-Ben",
  "publishTime": "昨天",
  "avatarFile": "1.jpg",
  "content": "小小的milestone, Google给我开Adsense账号了,以后给Google打工。",
  "contentImage": "adsense_approval.jpg",
  "likeCount": 2,
  "likers": ["张三", "李四"],
  "comments": [
    {
      "name": "飞书-Ben",
      "content": "真aha moment, 我就需要这样的agent"
    },
    {
      "name": "飞书-Ben", 
      "content": "有人问起来,顺便插播一个小广告..."
    }
  ]
}
```

## 技术特点

- **真实还原**：完全按照微信朋友圈的真实样式设计
- **智能换行**：文本自动换行，避免超出边界
- **响应式布局**：支持不同尺寸的图片生成
- **批量处理**：支持Excel批量生成
- **实时预览**：可以实时预览生成效果
- **图片优化**：自动处理图片尺寸和比例

## 注意事项

1. 评论内容使用JSON格式，注意转义双引号
2. 头像文件需要放在`res/pyq/`目录下
3. 配图文件需要放在`res/pyq/`目录下
4. 生成的图片为PNG格式，支持透明背景
5. 建议图片尺寸为375x812（iPhone标准尺寸）

## 文件结构

```
res/pyq/
├── 1.jpg          # 头像1
├── 2.jpg          # 头像2
├── pyq_example.xlsx  # 示例Excel文件
└── [其他配图文件]

tools/
└── weixin_pyq_imgCreat.html  # 主程序文件

icon/
└── weixin_pyq_imgCreat.png   # 工具图标
``` 